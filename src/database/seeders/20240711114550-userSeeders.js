'use strict';

const bcrypt = require('bcrypt');
const { v4: uuidv4 } = require('uuid');

module.exports = {
  up: async (queryInterface, Sequelize) => {
    const hashedAdminPassword = await bcrypt.hash('Admin@12', 10);
    const hashedSellerPassword = await bcrypt.hash('Seller@1', 10);
    const hashedBuyerPassword = await bcrypt.hash('Buyer@12', 10);

    await queryInterface.bulkInsert('Users', [
      {
        id: uuidv4(),
        firstName: 'Niyomugabo',
        lastName: 'Fidele',
        email: 'fidelniyomugabo67@gmail.com',
        password: hashedAdminPassword,
        role: 'admin',
        gender: 'male',
        preferredLanguage: 'English',
        preferredCurrency: 'USD',
        userAddress: JSON.stringify({
          street: '123 Admin St',
          city: 'Kigali',
          state: 'KG',
          postalCode: '00100',
        }),
        phoneN: '+250788123456',
        isBlock: false,
        refreshToken: null,
        refreshTokenExpired: null,
        profilePic:
          'https://res.cloudinary.com/dmosnjgob/image/upload/v1732370311/pngegg_zilpcj.png',
        isActive: true,
        isEmailVerified: true,
        mustUpdatePassword: false,
        lastTimePasswordUpdated: new Date(),
        expired: false,
        provider: 'local',
        googleId: null,
        dateOfBirth: '1990-01-01',
        nationality: 'Rwandan',
        preferredContactMethod: 'email',
        marketingPreferences: JSON.stringify({ newsletters: true }),
        accountStatus: 'active',
        lastLoginAt: new Date(),
        loginAttempts: 0,
        twoFactorEnabled: true,
        socialLinks: JSON.stringify({ twitter: '@niyomugabo', linkedin: 'fidelniyomugabo' }),
        subscriptionType: 'premium',
        loyaltyPoints: 100,
        preferredCategories: JSON.stringify(['Education', 'Technology']),
        termsAccepted: true,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        firstName: 'Jane',
        lastName: 'Doe',
        email: 'nfidele290@gmail.com',
        password: hashedSellerPassword,
        role: 'seller',
        gender: 'female',
        preferredLanguage: 'French',
        preferredCurrency: 'EUR',
        userAddress: JSON.stringify({
          street: '456 Seller St',
          city: 'Paris',
          state: 'FR',
          postalCode: '75001',
        }),
        phoneN: '+330123456789',
        isBlock: false,
        refreshToken: null,
        refreshTokenExpired: null,
        profilePic:
          'https://res.cloudinary.com/dmosnjgob/image/upload/v1732370311/pngegg_zilpcj.png',
        isActive: true,
        isEmailVerified: true,
        mustUpdatePassword: false,
        lastTimePasswordUpdated: new Date(),
        expired: false,
        provider: 'local',
        googleId: null,
        dateOfBirth: '1985-03-15',
        nationality: 'French',
        preferredContactMethod: 'email',
        marketingPreferences: JSON.stringify({ newsletters: false }),
        accountStatus: 'active',
        lastLoginAt: new Date(),
        loginAttempts: 1,
        twoFactorEnabled: false,
        socialLinks: JSON.stringify({ facebook: 'NiFidele',instagram: 'ni_fidel1' }),
        subscriptionType: 'standard',
        loyaltyPoints: 50,
        preferredCategories: JSON.stringify(['Fashion', 'Retail']),
        termsAccepted: true,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        firstName: 'John',
        lastName: 'Smith',
        email: 'fidelniyomugabo7@gmail.com',
        password: hashedBuyerPassword,
        role: 'buyer',
        gender: 'male',
        preferredLanguage: 'Spanish',
        preferredCurrency: 'USD',
        userAddress: JSON.stringify({
          street: '789 Buyer Blvd',
          city: 'Madrid',
          state: 'ES',
          postalCode: '28001',
        }),
        phoneN: '+341234567890',
        isBlock: false,
        refreshToken: null,
        refreshTokenExpired: null,
        profilePic:
          'https://res.cloudinary.com/dmosnjgob/image/upload/v1732370311/pngegg_zilpcj.png',
        isActive: true,
        isEmailVerified: true,
        mustUpdatePassword: false,
        lastTimePasswordUpdated: new Date(),
        expired: false,
        provider: 'google',
        googleId: 'google-1234',
        dateOfBirth: '1995-06-20',
        nationality: 'Spanish',
        preferredContactMethod: 'email',
        marketingPreferences: JSON.stringify({ newsletters: true, ads: true }),
        accountStatus: 'active',
        lastLoginAt: null,
        loginAttempts: 3,
        twoFactorEnabled: false,
        socialLinks: JSON.stringify({ instagram: 'ni_fidel1' }),
        subscriptionType: 'free',
        loyaltyPoints: 10,
        preferredCategories: JSON.stringify(['Books', 'Travel']),
        termsAccepted: true,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ]);
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete('Users', null, {});
  },
};
